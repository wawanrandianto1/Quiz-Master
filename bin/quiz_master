#!/usr/bin/bash
 
echo "Welcome to Quiz Master!"
 
x=0
message_err="See 'help' for information on a specific command."
 
Help () {
 echo "Command                                   | Description"
 echo "---------------------------------------------------------------"
 echo "create_question <no> <question> <answer>  | Creates a question"
 echo "update_question <no> <question> <answer>  | Updates a question"
 echo "answer_question <no> <answer>             | Answer  a question"
 echo "delete_question <no>                      | Deletes a question"
 echo "question <no>                             | Shows   a question"
 echo "questions                                 | Shows question list"
 echo ""
}
 
QuestionList () {
 echo "questions list"
}
 
Question () {
 echo "question work ${1}"
}
 
DeleteQuestion () {
 echo "deleting question work ${1}"
}
 
UpdateQuestion () {
 echo "updating question"
 echo "first ${1}"
 echo "second ${2}"
 echo "third ${3}"
}
 
CreateQuestion () {
 echo "creating question"
 echo "first ${1}"
 echo "second ${2}"
 echo "third ${3}"
}

AnswerQuestion () {
 echo "answer question"
 echo "first ${1}"
 echo "second ${2}"
}
 
while [ $x -eq 0 ]; do
 	read -p "$ " commandinput
  	read -r var_one var_two var_three var_four <<< "$commandinput"
 
 	if [[ $var_one ]]; then
		if [ ${var_one} == 'exit' ]; then
			x=1
		elif [ ${var_one} == 'help' ]; then
			Help
		elif [ ${var_one} == 'questions' ]; then
			QuestionList
		elif [ ${var_one} == 'question' ]; then
			if [[ $var_two ]] && ! [[ "$var_two" =~ ^[0-9]+$ ]]; then
				echo "Second param accept integers only"
				echo $message_err
			else
				Question "$var_two"
			fi
		elif [ ${var_one} == 'delete_question' ]; then
			if [[ $var_two ]] && ! [[ "$var_two" =~ ^[0-9]+$ ]]; then
				echo "Second param accept integers only"
				echo $message_err
			else
				DeleteQuestion "$var_two"
			fi
		elif [ ${var_one} == 'update_question' ]; then
			if [[ $var_two ]] && ! [[ "$var_two" =~ ^[0-9]+$ ]]; then
				echo "Second param accept integers only"
				echo $message_err
			elif [[ $var_four ]] && ! [[ "$var_four" =~ ^[0-9]+$ ]]; then
				echo "Fourth param accept integers only"
				echo $message_err
			else
				UpdateQuestion "$var_two" "$var_three" "$var_four"
			fi
		elif [ ${var_one} == 'create_question' ]; then
			if [[ $var_two ]] && ! [[ "$var_two" =~ ^[0-9]+$ ]]; then
				echo "Second param accept integers only"
				echo $message_err
			elif [[ $var_four ]] && ! [[ "$var_four" =~ ^[0-9]+$ ]]; then
				echo "Fourth param accept integers only"
				echo $message_err
			else
				CreateQuestion "$var_two" "$var_three" "$var_four"
			fi
		elif [ ${var_one} == 'answer_question' ]; then
			if [[ $var_two ]] && ! [[ "$var_two" =~ ^[0-9]+$ ]]; then
				echo "Second param accept integers only"
				echo $message_err
			else
				AnswerQuestion "$var_two" "$var_three"
			fi
		elif [ ${var_one} == 'clear' ]; then
			clear
		else
			echo "Quiz Master: no such command '${commandinput}'"
			echo $message_err
		fi
  	else
		echo "Quiz Master: no such command '${commandinput}'"
		echo $message_err
  	fi

done